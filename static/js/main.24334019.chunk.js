(this["webpackJsonpfe-2"]=this["webpackJsonpfe-2"]||[]).push([[0],{43:function(e,t,n){e.exports=n(70)},70:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),i=n.n(r),o=n(35),c=n.n(o),l=n(8),s=n(9),u=n(21),d=n(80),f=n(1),m=n(16),p=function(){return{textDecoration:"None"}},b=function(e){var t=e.to,n=e.className,a=void 0===n?"":n,o=Object(r.useContext)(ge),c=Object(f.f)(),l=Object(d.a)().css;return i.a.createElement(m.b,{to:t,onClick:function(e){e.preventDefault(),o(!1),setTimeout((function(){c(t),o(!0)}),400)},className:"".concat(l(p)," ").concat(a)},e.children)},h=function(e){var t=e.pathname;return{extend:[{condition:(0,e.condition)(t),style:{textDecoration:"underline !important"}}]}};var v=function(e){var t=e.to,n=e.className,a=void 0===n?"":n,r=e.condition,o=void 0===r?function(e){return e.startsWith(t)}:r,c=Object(f.e)(),l=Object(d.a)({pathname:c.pathname,to:t,condition:o}).css;return i.a.createElement(b,{to:t,className:"".concat(l(h)," ").concat(a)},e.children)},g=function(){return{padding:"10px"}},y=function(){return{}},w=function(){return{":before":{content:'", "'}}},j=function(){return{display:"flex",flexDirection:"row"}};var O=function(e){var t=Object(r.useRef)(),n=e.setNavHeight,a=e.filterRoutes,o=Object(d.a)().css,c=Object(f.e)();function l(){var e=t.current.getBoundingClientRect().height;n(e+20)}return Object(r.useEffect)((function(){l()}),[c]),Object(r.useEffect)((function(){return l(),window.addEventListener("resize",l),function(){window.removeEventListener("resize",l)}}),[]),i.a.createElement("nav",{className:o(g)},i.a.createElement("ul",null,i.a.createElement("li",{ref:t,className:o(y)},i.a.createElement("ul",{className:o(j)},i.a.createElement("li",null,i.a.createElement(v,{to:"/",condition:function(e){return["/","/about"].includes(e)}},"no design foundry")),("/"===c.pathname||"/about"===c.pathname)&&i.a.createElement("li",null,i.a.createElement(v,{to:"/about",className:o(w),condition:function(e){return"/about"===e}},"about")))),"/"!==c.pathname&&a.map((function(e,t){return i.a.createElement("li",{key:"nav_".concat(t)},i.a.createElement("ul",{className:o(j)},i.a.createElement("li",{className:o(y)},i.a.createElement(v,{to:e.route},e.title)),c.pathname.startsWith(e.route)&&i.a.createElement("li",null,i.a.createElement(v,{to:"".concat(e.route,"/about"),className:o(w)},"about"))))}))))},E=[{type:"filterListView",route:"/"},{type:"filterDetailView",title:"Rotorizer",filterIdentifier:"rotorizer",route:"/rotorizer",numberOfLayers:2,layerColors:["gray","#000"],variableFontControlSliders:[{label:"rotation",tag:"RTTX",min:0,max:360,default:130}],inputs:[{type:"range",label:"depth",name:"depth",min:2,max:600,default:100}]},{type:"filterDetailView",title:"Rastr",filterIdentifier:"rasterizer",route:"/rasterizer",numberOfLayers:1,layerColors:["#000"],inputs:[{type:"range",label:"resolution",name:"resolution",min:10,max:150,default:20}]}];function x(e){var t=Object.keys(e).reduce((function(t,n){return t.push('"'.concat(n,'" ').concat(e[n])),t}),[]).join(", ");return t?{fontVariationSettings:t}:{}}var S=n(36),C={rasterizer:"<p>A font that had this filter applied on went through the process of rasterisation. It's the same rasterization that rasterizes fonts on your iPhone or a Android phone, a coffee machines or something completely else. Software behind it is called <a href=\"https://freetype.org/\" target=\"_blank\">FreeType</a> and it's an open source rasterizer that is used in the industry. </p>\n<p>Such rasterisation is very complex process, it uses font's information called hinting. Hinting simply hints the rasterizer what to do. It can tell it to make sure to have this stroke the same amount of pixels as this stroke or show overshoot only if the font size is above 20px. If the font doesn't contain any hinting, then the rasterizer tries to do its best job.</p>\n<p>General rule is that fonts with suffix <code>.ttf</code> should have better displaying capabilities than fonts ending with <code>.otf</code>. Old classic as Verdana, Arial or Times New Roman perform very well when rasterised in small sizes. </p>\n<p>The smallest sizes in some of the older fonts were specially prepared as separate bitmaps. Someone was really there, drawing that system font bitmap of eight pixels!</p>",rotorizer:"<p>There was a typeface that was soon replaced by an algorithm, this typeface's only distinctive feature was something that soon every font can turn into.</p>\n<p>The font is dead, long live the algorithm!</p>\n<p>It was a long journey of slowly learning how to automate my tedious inhuman workflow to produce the variable font until completely automating it.</p>\n<p>It already asks the question of our future lives, are we gonna be all replaced by an algorithm? What kind of work will humans do? Only the creative one? I don't know, but lets leave production of such fonts to an algorithm.</p>",foundry:'<p>This is the type foundry without any typefaces. It contains collection of filters that can be applied on already existing fonts, the ones you already have. It tries to reuse and refresh already existing fonts and designs.</p>\n<p>This website doesn\'t store your fonts, your fonts are only processed on the server and send to you directly.</p>\n<p>This project is primarily work of <a href="https://www.jansindler.com" target="_blank">Jan \u0160indler</a>, but also of many others who directly or indirectly influenced this project. Thank you: <a href="https://www.hallotype.nl/" target="_blank">Thom Janssen</a>, <a href="https://www.youtube.com/watch?v=7uNYg98YTNI" target="_blank">Oli Sabin</a>, <a href="https://rosettatype.com/" target="_blank">David B\u0159ezina</a>, Just van Rossum &amp; everyone at <a href="https://typemedia.org/" target="_blank">TM</a> &amp; everyone who keeps maintained all the libraries that I am using in this project.</p>'},k=function(){return{padding:"calc(1em - 10px) 10px 10px 10px",maxWidth:"50ch","& p + p":{marginTop:"1em"}}};var z=function(e){var t=e.identifier,n=Object(d.a)().css;return i.a.createElement("article",{className:n(k)},i.a.createElement(S.a,null,C[t]))},F=function(e){var t=e.previewedFontFamily,n=e.inListView,a=e.visible,r=e.color,i=e.marginBottom,o=e.marginTop;return{userSelect:"none",transitionDuration:"".concat(350,"ms"),transitionProperty:"opacity, filter",transitionTimingFunction:"ease-in",whiteSpace:"nowrap",textRendering:"optimizeSpeed",marginBottom:"".concat(n||!n&&i?-.226:i,"em"),marginTop:"".concat(n||!n&&o?-.204:o,"em"),transform:"translateZ(0)",extend:[{condition:t,style:{fontFamily:t}},{condition:r,style:{color:r}},{condition:!a,style:{opacity:0,filter:"blur(.025em)"}}]}},N=function(e){var t=e.inListView;return{zIndex:-1,userSelect:"none",pointerEvents:"none",position:"absolute",top:0,left:0,width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:t?"flex-start":"center",extend:[{condition:t,style:{height:"100%"}}]}};var I=function(e){var t=e.fontSize,n=e.inListView,o=void 0!==n&&n,c=e.fontFamily,s=e.fontVariations,u=void 0===s?{}:s,f=e.color,m=Object(r.useRef)(),p=Object(r.useState)(!1),b=Object(a.a)(p,2),h=b[0],v=b[1],g=Object(r.useState)(c),y=Object(a.a)(g,2),w=y[0],j=y[1],O=Object(r.useState)(e.children),E=Object(a.a)(O,2),S=E[0],C=E[1],k=Object(r.useContext)(H).fontPreviewMargins,z=k.marginBottom,I=k.marginTop;Object(r.useEffect)((function(){setTimeout((function(){v(!0)}),100)}),[]),Object(r.useEffect)((function(){c!==w&&(v(!1),setTimeout((function(){j(c),C(e.children),v(!0)}),400))}),[c]);var T=Object(d.a)({visible:h,inListView:o,previewedFontFamily:w,color:f,fontVariations:u,marginTop:I,marginBottom:z}).css;return i.a.createElement("div",{className:T(N)},i.a.createElement("span",{ref:m,className:T(F),style:Object(l.a)(Object(l.a)({},x(u)),{},{fontSize:"".concat(t,"px")})},S))},T=Object(r.createContext)(),D=Object(r.createContext)(),L=Object(r.createContext)(),R=Object(r.createContext)(),V=Object(r.createContext)(),P=Object(r.createContext)(),H=Object(r.createContext)();var _=function(e){var t=Object(r.useState)(null),n=Object(a.a)(t,2),o=n[0],c=n[1],u=Object(r.useState)(null),d=Object(a.a)(u,2),f=d[0],m=d[1],p=Object(r.useState)({marginBottom:0,marginTop:0}),b=Object(a.a)(p,2),h=b[0],v=b[1],g=Object(r.useState)(ye.reduce((function(e,t){return e[t.filterIdentifier]=Array(t.numberOfLayers),e}),{})),y=Object(a.a)(g,2),w=y[0],j=y[1],O=Object(r.useState)(ye.reduce((function(e,t){return e[t.filterIdentifier]=t.title,e}),{})),E=Object(a.a)(O,2),x=E[0],S=E[1],C=Object(r.useState)(ye.reduce((function(e,t){var n;return e[t.filterIdentifier]=[].concat(Object(s.a)(t.inputs),Object(s.a)(null!==(n=null===t||void 0===t?void 0:t.variableFontControlSliders)&&void 0!==n?n:[])).reduce((function(e,t){return e[t.name]=t.default,e}),{fontSize:null}),e}),{})),k=Object(a.a)(C,2),z=k[0],F=k[1],N=Object(r.useState)(ye.reduce((function(e,t){return t.variableFontControlSliders&&(e[t.filterIdentifier]=t.variableFontControlSliders.reduce((function(e,t){return e[t.tag]=t.default,e}),{})),e}),{})),I=Object(a.a)(N,2),_=I[0],B=I[1],M=Object(r.useRef)(!1);return Object(r.useEffect)((function(){M.current}),[o]),Object(r.useEffect)((function(){M.current=!0}),[]),i.a.createElement(L.Provider,{value:{previewStrings:x,setPreviewString:function(e,t){var n=Object(l.a)({},x);n[e]=t,S(n)}}},i.a.createElement(V.Provider,{value:{previewedOutputFonts:w,setPreviewedOutputFonts:function(e,t){var n={};n[e]=t,j(Object(l.a)(Object(l.a)({},w),n))}}},i.a.createElement(P.Provider,{value:{fontVariations:_,setFontVariations:function(e,t,n){var a=Object(l.a)({},_);a[e][t]=parseInt(n),B(a)}}},i.a.createElement(T.Provider,{value:{formInputValues:z,setFormInputValue:function(e,t,n){var a=Object(l.a)({},z);a[e][t]=n,F(a)}}},i.a.createElement(D.Provider,{value:{inputFont:o,setInputFont:c}},i.a.createElement(R.Provider,{value:{previewedInputFont:f,setPreviewedInputFont:m}},i.a.createElement(H.Provider,{value:{fontPreviewMargins:h,setFontPreviewMargins:function(e){setTimeout((function(){v(e)}),350)}}},e.children)))))))},B=function(e){return function(){return{gridColumn:e}}},M=function(e){e.fileIsDragged;return{position:"fixed",fontSize:"4em",top:0,backgroundColor:"#fff",opacity:1,left:0,right:0,bottom:0}},W=function(){return{position:"absolute"}},A=function(){return{display:["none","inline"]}},X=function(){return{whiteSpace:"no-wrap"}};var J=function(e){var t,n=e.label,o=Object(r.useRef)(),c=Object(r.useRef)(),l=Object(r.useState)({}),s=Object(a.a)(l,2),u=s[0],f=s[1],m=Object(r.useContext)(D),p=m.inputFont,b=m.setInputFont,h=Object(r.useState)(!1),v=Object(a.a)(h,2),g=v[0],y=v[1],w=Object(d.a)({fileIsDragged:g}).css;function j(e){var t;e.preventDefault(),e.stopPropagation(),1===(null===(t=e.dataTransfer)||void 0===t?void 0:t.files.length)&&(b(e.dataTransfer.files[0]),c.current=null),y(!1)}function O(e){c.current="entered",e.preventDefault(),e.stopPropagation(),y(!0)}function E(e){"moving"===c.current&&(e.preventDefault(),e.stopPropagation(),y(!1),c.current="left")}function x(e){var t=e.clientX,n=e.clientY;f({left:t,top:n}),e.preventDefault(),e.stopPropagation()}return Object(r.useEffect)((function(){g?(document.body.querySelector("#root").style.pointerEvents="none",c.current="moving"):document.body.querySelector("#root").style.removeProperty("pointer-events")}),[g]),Object(r.useEffect)((function(){return document.body.addEventListener("dragenter",O),document.body.addEventListener("dragleave",E),document.body.addEventListener("dragover",x),document.body.addEventListener("drop",j),function(){document.body.removeEventListener("dragleave",E),document.body.removeEventListener("dragenter",O),document.body.removeEventListener("dragover",x),document.body.removeEventListener("drop",j)}}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:w(B(1))},n),i.a.createElement("input",{ref:o,type:"file",onChange:function(e){1===e.target.files.length&&b(e.target.files[0])},style:{display:"none"},accept:".ttf,.otf,woff,woff2"}),i.a.createElement("button",{className:w(B(2),X),onClick:function(e){o.current.click()}},i.a.createElement("span",null,null!==(t=null===p||void 0===p?void 0:p.name)&&void 0!==t?t:"select file"),!(null===p||void 0===p?void 0:p.name)&&i.a.createElement("span",{className:w(A)}," or drop it")),g&&i.a.createElement("div",{className:w(M)},i.a.createElement("span",{className:w(W),style:u},"Drop it")))},Y=function(){return{fontVariantNumeric:"tabular-nums",padding:"0 .2em"}},Z=["12px","8px"],q=function(e){var t=e.position;return{appearance:"none","-webkit-appearance":"none",height:["12px","8px"],borderRadius:Z,boxShadow:"inset 0 2px 2px #00000066","&::-webkit-slider-thumb, &::-moz-range-thumb":{appearance:"none","-webkit-appearance":"none",height:["26px","18px"],width:["26px","18px"],background:"#333",borderRadius:"100%",filter:"drop-shadow(0 2px 3px #00000066)",border:"none",outline:"none",cursor:"pointer"},background:"#EEE","&::-moz-range-progress":{boxShadow:"inset 0 2px 2px #00000066",background:"#CCC",height:"100%",borderRadius:Z},"@supports not selector(::-moz-range-progress)":{background:"linear-gradient(to right, #CCC 0%, #CCC ".concat(t,"%, #EEE ").concat(t,"%, #EEE 100%)"),"&:disabled":{background:"linear-gradient(to right, #DDD 0%, #DDD ".concat(t,"%, #EEE ").concat(t,"%, #EEE 100%) !important")}},"&:disabled":{"&::-webkit-slider-thumb, &::-moz-range-thumb":{background:"#EEE"}}}};var G=function(e){var t=e.className,n=e.label,o=e.name,c=e.min,l=e.max,s=e.value,u=e.onChange,f=(e.animatable,e.disabled),m=void 0!==f&&f,p=Object(r.useRef)(),b=Object(r.useRef)(),h=Object(r.useState)(),v=Object(a.a)(h,2),g=v[0],y=(v[1],Object(r.useContext)(ne).filterIdentifier),w=Object(r.useContext)(T).setFormInputValue,j=Object(r.useState)(s),O=Object(a.a)(j,2),E=O[0],x=O[1],S=Object(d.a)({animating:g,position:E/l*100}).css;return Object(r.useEffect)((function(){return p.current.value=E,function(){clearInterval(b.current)}}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:[S(B(1)),t].join(" "),disabled:m},n),i.a.createElement("input",{ref:p,className:[S(B(2),q),t].join(" "),type:"range",onChange:function(e){if(p.current.checkValidity()){var t=parseInt(e.target.value);x(t),u&&u(e.target.value),o&&w(y,o,t)}},min:c,max:l,disabled:m}),i.a.createElement("div",{className:[S(Y),t].join(" "),disabled:m},E))},U=function(){return{background:"transparent",outline:"none",border:"none"}};var K=function(e){var t=e.label,n=e.value,a=e.onChange,o=e.disabled,c=Object(r.useRef)(),l=Object(d.a)().css;return Object(r.useEffect)((function(){c.current.value=n}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:l(B(1)),disabled:o},t),i.a.createElement("input",{ref:c,className:l(U,B(2)),type:"text",onChange:function(){c.current.checkValidity()&&a&&a(c.current.value)},disabled:o}))},Q=n(22),$=n.n(Q);var ee,te=function(e){var t=e.content;return i.a.createElement("ul",null,t.map((function(e,t){return i.a.createElement("li",{key:t},e)})))},ne=Object(r.createContext)(),ae=function(){return{textAlign:"right"}},re=function(e){e.innerHeight;return{bottom:0,position:"fixed",transform:"translateZ(0)",flexDirection:"column",display:"flex",justifyContent:"flex-end",transition:"height .05s ease-in"}},ie=function(){return{pointerEvents:"all",display:"grid",gridTemplateColumns:["auto auto 3ch auto","repeat(4, min-content) 3ch"],width:["calc(100% - 10px)","auto"],gap:"0px 6px",gridAutoRows:"1.2em",whiteSpace:"nowrap",alignItems:"center",justifyContent:"center",marginBottom:"10px"}},oe=function(){return{minHeight:"100%",top:0,position:"absolute",width:"100%",display:"flex",flexDirection:"column",padding:"10px",pointerEvents:"none",overflow:"hidden"}},ce=function(){return{display:"flex",alignItems:"flex-end",flexDirection:"row"}},le=function(e){return{display:"block",animationName:{"0%":{paddingBottom:".5em"},"40%":{paddingBottom:"0"},"100%":{paddingBottom:"0"}},animationDuration:"1s",animationIterationCount:"infinite",animationDirection:"alternate-reverse",animationPlayState:e.isProcessing?"processing":"paused"}},se=$.a.CancelToken;var ue=function(e){var t,n=e.inputs,o=e.variableFontControlSliders,c=e.filterIdentifier,l=e.fontSize,u=e.setFontSize,f=Object(r.useContext)(R),m=f.previewedInputFont,p=f.setPreviewedInputFont,b=Object(r.useState)(window.innerHeight),h=Object(a.a)(b,2),v=h[0],g=h[1],y=Object(r.useRef)(),w=Object(r.useRef)(null),j=Object(r.useState)([]),O=Object(a.a)(j,2),E=O[0],x=O[1],S=Object(r.useContext)(V).setPreviewedOutputFonts,C=Object(r.useContext)(T).formInputValues,k=(Object(r.useRef)(l),Object(r.useContext)(D).inputFont),z=Object(r.useRef)(!1),F=Object(r.useRef)(void 0),N=Object(r.useContext)(L),_=N.previewStrings,M=N.setPreviewString,W=Object(r.useState)(_[c]),A=Object(a.a)(W,2),X=A[0],Y=A[1],Z=Object(r.useState)(!1),q=Object(a.a)(Z,2),U=q[0],Q=q[1],ue=Object(r.useState)(!1),de=Object(a.a)(ue,2),fe=de[0],me=de[1],pe=Object(r.useContext)(P),be=pe.fontVariations,he=pe.setFontVariations,ve=Object(r.useContext)(H).setFontPreviewMargins,ge=Object(d.a)({isProcessing:fe,innerHeight:v}).css;function ye(e){}function we(e){w.current=null}function je(e){g(window.innerHeight)}return Object(r.useEffect)((function(){if(z.current&&k){var e=Date.now();ee=e,setTimeout((function(){e===ee&&(M(c,X),function(){var e=new FormData;e.append("font_file",k),e.append("preview_string",X),Object.keys(C[c]).forEach((function(t){return e.append(t,C[c][t])})),me(!0);var t={};$()({method:"post",cancelToken:new se((function(e){F.current=e})),url:"http://0.0.0.0:5000/filters/".concat(c),data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){x(e.data.warnings),e.data.margins&&(t=e.data.margins);var n=e.data.fonts.map((function(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}));return Promise.all([k.arrayBuffer(),n])})).then((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return[new FontFace("preview-input-font-".concat(Date.now()),n),r.map((function(e,t){return new FontFace("preview-output-font-".concat(Date.now(),"-").concat(t),e)}))]})).then((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return document.fonts.add(n),r.map((function(e){return document.fonts.add(e)})),[n,r]})).then((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];p(n.family),S(c,r.map((function(e){return e.family})))})).catch((function(e){$.a.isCancel(e)?console.log(e.message):console.log(e)})).finally((function(){me(!1),ve(t)}))}())}),500)}}),[C,k,X,c]),Object(r.useRef)(),Object(r.useEffect)((function(){return z.current=!0,document.body.style.touchAction="none",window.addEventListener("resize",je),window.addEventListener("touchmove",ye),window.addEventListener("touchend",we),function(){window.removeEventListener("resize",je),window.removeEventListener("touchmove",ye),window.removeEventListener("touchend",we),document.body.style.removeProperty("touch-action"),z.current=!1,Q(!1),void 0!==F.current&&(me(!1),F.current("cancelled by user"),F.current=void 0)}}),[]),i.a.createElement(ne.Provider,{value:{filterIdentifier:c}},i.a.createElement("div",{className:ge(oe)},i.a.createElement(I,{fontFamily:m,fontSize:l},_[c]),i.a.createElement("div",{className:ge(re)},fe&&i.a.createElement("div",{className:ge(ce)},Object(s.a)("processing...........").map((function(e,t){return i.a.createElement("span",{key:"processing-".concat(t),className:ge(le,(function(){return{animationDelay:"".concat(t/10,"s")}}))},e)}))),i.a.createElement(te,{content:E}),i.a.createElement("div",{ref:y,className:ge(ie)},null===o||void 0===o?void 0:o.map((function(e,t){return i.a.createElement(G,{label:e.label,key:"font_ui_".concat(t),min:e.min,max:e.max,tag:e.tag,value:be[c][e.tag],onChange:function(t){return he(c,e.tag,t)}})})),i.a.createElement(G,{label:"font size",min:20,max:1e3,value:l,onChange:function(e){return u(e)}}),i.a.createElement(J,{label:"font file"}),i.a.createElement(K,{label:"preview",value:_[c],onChange:function(e){return Y(e)},disabled:!Boolean(k)}),n.map((function(e,t){switch(e.type){case"range":return i.a.createElement(G,{label:e.label,name:e.name,key:"input_".concat(c,"_").concat(t),min:e.min,max:e.max,value:C[c][e.name],disabled:!Boolean(k)});default:throw new Error("component not found")}})),i.a.createElement("button",{className:ge(B(4),ae),onClick:function(){return Q(!U)},disabled:!Boolean(k)},U?"hide":"get"),U&&i.a.createElement(i.a.Fragment,null,i.a.createElement("hr",{className:ge(B("1 / span 5"),(t="100%",function(){return{width:t}}))}),i.a.createElement(K,{label:"font name"}),i.a.createElement("button",{className:ge(B("5"))},"download"),i.a.createElement(K,{label:"email"}),i.a.createElement("button",{className:ge(B("5"))},"send"))))))},de=function(e){var t=e.navHeight;return{marginTop:"".concat(t,"px")}};var fe=function(e){var t=e.filterIdentifier,n=e.navHeight,a=e.layerColors,o=e.formHeight,c=e.fontSize,l=Object(r.useContext)(L).previewStrings,s=Object(r.useContext)(V).previewedOutputFonts,u=Object(r.useContext)(P).fontVariations,f=Object(d.a)({navHeight:n}).css;return i.a.createElement("div",{className:f(de)},a.map((function(e,n){return i.a.createElement(I,{key:"".concat(t,"-overlay-").concat(n),fontFamily:s[t][n]||"".concat(t,"-").concat(n),fontSize:c,fontVariations:u[t],color:e,formHeight:o},l[t])})))},me=function(){return{}},pe=function(e){var t=e.fontSize;return{position:"relative",height:"".concat(1*t,"px")}};var be=function(e){var t=e.filterRoutes,n=e.fontSize,a=Object(d.a)({fontSize:n}).css;return i.a.createElement("ul",{className:a(me)},t.map((function(e){return i.a.createElement("li",{key:"list-view-".concat(e.route)},i.a.createElement(b,{to:e.route},i.a.createElement("div",{className:a(pe)},i.a.createElement(I,{fontSize:n,inListView:!0},e.title))))})))},he=function(e){var t=e.navHeight;return{marginTop:"".concat(t,"px")}};var ve=function(e){var t=e.filterRoutes,n=e.navHeight,a=e.fontSize,r=Object(d.a)({navHeight:n,fontSize:a}).css;return i.a.createElement("ul",{className:r(he)},t.map((function(e){return i.a.createElement("li",{key:"overlay-link-".concat(e.route)},i.a.createElement(b,{to:e.route},i.a.createElement("div",{className:r(pe)},e.layerColors.map((function(t,n){var r;return i.a.createElement(I,{key:"overlay-font-preview-".concat(n),fontSize:a,inListView:!0,fontFamily:"".concat(e.filterIdentifier,"-").concat(n),color:t,fontVariations:(null!==(r=null===e||void 0===e?void 0:e.variableFontControlSliders)&&void 0!==r?r:[]).reduce((function(e,t){return e[t.tag]=t.default,e}),{})},e.title)})))))})))},ge=Object(r.createContext)(),ye=E.filter((function(e){return"filterDetailView"===e.type}));function we(){return ye.reduce((function(e,t){return e[t.filterIdentifier]=Math.ceil(function(e,t){var n=document.createElement("span");n.innerHTML=e,n.style.fontSize="200px",n.style.fontFamily=t,document.body.appendChild(n);var a=n.offsetWidth;return document.body.removeChild(n),Math.floor((document.body.clientWidth-20)/a*200)}(t.title,"vtt")),e}),{})}var je=function(e){var t=e.contentIsVisible,n=e.navHeight;return Object(u.a)({position:"fixed",bottom:0,width:"100%",height:"0px",left:0,background:"#ccc",transition:"height ".concat(350,"ms"),transform:"translateZ(0)",transitionTimingFunction:t?"cubic-bezier(.55,0,1,.45)":"cubic-bezier(0,.55,.45,1)"},"height",t?0:"calc(100% - ".concat(n-10,"px)"))},Oe=function(e){var t=e.isTouching,n=e.transitionWidth,a=e.transitionHeight;return{zIndex:-1,top:0,left:0,width:"100%",height:"100%",position:"absolute",background:"#eee",overflow:"hidden",transform:"translateZ(0)",extend:[{condition:t,style:{height:"100% !important"}},{condition:!t,style:{width:"100% !important"}},{condition:n|a,style:{transitionProperty:[].concat(Object(s.a)(n?["width"]:[]),Object(s.a)(a?["height"]:[])).join(","),transitionDuration:".15s",transitionTimingFunction:"linear"}}]}},Ee=function(){return{fontSize:["23px","19px"],lineHeight:["1.3em","1.15em"]}};var xe=function(){var e=Object(r.useRef)(window.innerWidth),t=Object(r.useState)(!0),n=Object(a.a)(t,2),o=n[0],c=n[1],u=Object(r.useState)(we()),m=Object(a.a)(u,2),p=m[0],b=m[1],h=Object(r.useRef)(!1),v=Object(r.useState)(0),g=Object(a.a)(v,2),y=g[0],w=g[1],j=Object(r.useState)(!1),x=Object(a.a)(j,2),S=x[0],C=x[1],k=Object(r.useState)(!1),F=Object(a.a)(k,2),N=F[0],I=F[1],T=Object(r.useState)(!0),D=Object(a.a)(T,2),L=D[0],R=D[1],V=Object(r.useState)(Math.min.apply(Math,Object(s.a)(Object.values(we())))),P=Object(a.a)(V,2),H=P[0],B=P[1],M=Object(r.useRef)(),W=Object(r.useRef)(Date.now()),A=Object(d.a)({contentIsVisible:o,navHeight:y,isTouching:S,transitionWidth:N,transitionHeight:L}).css;function X(){Date.now()-W.current>500&&(C(!1),I(!1),L&&setTimeout((function(){}),500))}function J(e){L&&(M.current.clientHeight-10<=e.pageY&&R(!1));Date.now()-W.current>500&&(M.current.style.height="".concat(e.pageY,"px"))}function Y(e){W.current=Date.now(),I(!0),C(!0),1===e.touches.length&&(M.current.style.width="".concat(e.touches[0].pageX,"px"))}function Z(e){var t;switch(I(!1),e.touches.length){case 1:t=e.touches[0].pageX;break;case 2:var n=Object(a.a)(e.touches,2),r=n[0].pageX,i=n[1].pageX;t=Math.min(r,i)+Math.abs(i-r)/2}M.current.style.width="".concat(t,"px")}function q(t){var n=window,a=n.innerWidth;n.innerHeight;a!==e.current&&(B(Math.min.apply(Math,Object(s.a)(Object.values(we())))),e.current=a)}return Object(r.useEffect)((function(){return h.current=!0,window.addEventListener("resize",q),window.addEventListener("mousemove",J,!1),document.body.addEventListener("mouseenter",X),window.addEventListener("touchstart",Y),window.addEventListener("touchmove",Z),document.fonts.ready.then((function(){b(we()),B(Math.min.apply(Math,Object(s.a)(Object.values(we()))))})),function(){window.removeEventListener("resize",q),window.removeEventListener("mousemove",J),document.body.removeEventListener("mouseenter",X),window.removeEventListener("touchstart",Y),window.removeEventListener("touchmove",Z)}}),[]),i.a.createElement(ge.Provider,{value:c},i.a.createElement(_,null,i.a.createElement("div",{className:A(Ee)},i.a.createElement(O,{setNavHeight:w,filterRoutes:ye}),i.a.createElement("main",null,i.a.createElement(f.c,null,E.map((function(e,t){var n;switch(e.type){case"filterDetailView":n=i.a.createElement(ue,Object.assign({},e,{navHeight:y,key:e.route,fontSize:p[e.filterIdentifier],setFontSize:function(t){return function(e,t){var n=Object(l.a)({},p);n[e]=t,b(n)}(e.filterIdentifier,t)}}));break;case"filterListView":n=i.a.createElement(be,Object.assign({},e,{filterRoutes:ye,fontSize:H}))}return i.a.createElement(f.a,{path:e.route,element:n,key:"route_".concat(t)})})),ye.map((function(e,t){return i.a.createElement(f.a,{key:"about_route_".concat(t),path:"".concat(e.route,"/about"),element:i.a.createElement(z,{identifier:e.filterIdentifier})})})),i.a.createElement(f.a,{path:"/about",element:i.a.createElement(z,{identifier:"foundry"})}))),i.a.createElement("div",{className:A(je)}),i.a.createElement("div",{ref:M,className:A(Oe)},i.a.createElement(f.c,null,E.map((function(e,t){var n;switch(e.type){case"filterDetailView":n=i.a.createElement(fe,Object.assign({},e,{navHeight:y,key:e.route,fontSize:p[e.filterIdentifier]}));break;case"filterListView":n=i.a.createElement(ve,Object.assign({},e,{filterRoutes:ye,navHeight:y,fontSize:H}));break;default:throw new Error("not matched")}return i.a.createElement(f.a,{path:e.route,element:n,key:"overlay_route_".concat(t)})})))))))},Se=n(79),Ce=n(78),ke=n(37),ze=n(38),Fe=n(39),Ne=n(40),Ie=Object(Ce.a)({plugins:[Object(ke.a)(),Object(ze.a)(),Object(Ne.a)(),Object(Fe.a)((function(e,t){switch(e.length){case 2:return["@media (min-width: 800px)"];default:return[]}}),{padding:!0,margin:!0,display:!0,fontSize:!0,gridTemplateColumns:!0,lineHeight:!0,width:!0,height:!0,borderRadius:!0})]});Ie.renderStatic({boxSizing:"border-box",fontFamily:"inherit",fontSize:"inherit",color:"inherit","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","&:focus":{outline:"none",background:"none",boxShadow:"none"}},"html,body,div,input,label,a,button");Ie.renderStatic({fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit"},"h1,h2,h3,h4,h5,h6,h6,h8");Ie.renderStatic({padding:0,margin:0},"html,body,div,input,label,a,button,h1,h2,h3,h4,h5,h6,h6,h8,p");Ie.renderStatic({fontFamily:"vtt, sans-serif",maxWidth:"100vw",minHeight:"100vh",touchAction:"pan-y",position:"relative",overscrollBehavior:"contain",overflow:"auto"},"body");Ie.renderStatic({height:"100%",width:"100%"},"html");Ie.renderStatic({margin:0,listStyleType:"None",padding:0},"ul");Ie.renderStatic({whiteSpace:"nowrap",background:"transparent",outline:"none",border:"none",appearance:"none",textAlign:"left",textDecoration:"underline"},"button");Ie.renderStatic({color:"#CCC",userSelect:"none",pointerEvents:"none",opacity:"1 !important","-webkit-text-fill-color":"#CCC"},"*[disabled]");Ie.renderStatic({minWidth:"80px"},"input");Ie.renderStatic({textDecoration:"underline"},"a.active");[["rasterizer-0","ttf"],["rotorizer-0","ttf"],["rotorizer-1","ttf"],["vtt","woff2"]].forEach((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return Ie.renderFont(n,["".concat(n,".").concat(r)])})),c.a.render(i.a.createElement(m.a,null,i.a.createElement(Se.a,{renderer:Ie},i.a.createElement(i.a.StrictMode,null,i.a.createElement(xe,null)))),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.24334019.chunk.js.map