(this["webpackJsonpfe-2"]=this["webpackJsonpfe-2"]||[]).push([[0],{43:function(e,t,n){e.exports=n(70)},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(35),o=n.n(i),c=n(12),l=n(2),u=n(20),s=n(7),f=n(80),d=n(1),m=n(21),p=function(){return{"-webkit-tap-highlight-color":"transparent"}},v=function(e){var t=e.to,n=e.className,i=void 0===n?"":n,o=Object(a.useContext)(fe),c=Object(d.f)(),l=Object(f.a)().css;var u={to:t,onClick:function(e){e.preventDefault(),o(!1),setTimeout((function(){c(t),o(!0)}),400)},className:"".concat(l(p)," ").concat(i)};return r.a.createElement(m.b,u,e.children)};var b=function(e){var t=e.to,n=e.className;return r.a.createElement(v,{to:t,className:n,NavLink:!0,isActive:function(e,t){console.log(e,t)}},e.children)},h=function(){return{fontFamily:"test",padding:"10px"}},g=function(){return{}},y=function(){return{":before":{content:'", "'}}},O=function(){return{display:"flex",flexDirection:"row"}};var j=function(e){var t=Object(a.useRef)(),n=e.setNavHeight,i=e.filterRoutes,o=Object(f.a)().css,c=Object(d.e)();function l(){var e=t.current.getBoundingClientRect().height;n(e+20)}return Object(a.useEffect)((function(){l()}),[c]),Object(a.useEffect)((function(){return l(),window.addEventListener("resize",l),function(){window.removeEventListener("resize",l)}}),[]),r.a.createElement("nav",{className:o(h)},r.a.createElement("ul",null,r.a.createElement("li",{ref:t,className:o(g)},r.a.createElement("ul",{className:o(O)},r.a.createElement("li",null,r.a.createElement(b,{to:"/"},"no design foundry")),("/"===c.pathname||"/about"===c.pathname)&&r.a.createElement("li",null,r.a.createElement(b,{to:"/about",className:o(y)},"about")))),"/"!==c.pathname&&i.map((function(e,t){return r.a.createElement("li",{key:"nav_".concat(t)},r.a.createElement("ul",{className:o(O)},r.a.createElement("li",{className:o(g)},r.a.createElement(b,{to:e.route},e.title)),c.pathname.startsWith(e.route)&&r.a.createElement("li",null,r.a.createElement(b,{to:"".concat(e.route,"/about"),className:o(y)},"about"))))}))))},E=[{type:"filterListView",route:"/"},{type:"filterDetailView",title:"Rotorizer",filterIdentifier:"rotorizer",route:"/rotorizer",numberOfLayers:2,layerColors:["gray","#000"],variableFontControlSliders:[{label:"rotation",tag:"RTTX",min:0,max:360,default:0}],inputs:[{type:"range",label:"depth",name:"depth",min:2,max:600,default:20}]},{type:"filterDetailView",title:"Rastr",filterIdentifier:"rasterizer",route:"/rasterizer",numberOfLayers:1,layerColors:["#000"],inputs:[{type:"range",label:"resolution",name:"resolution",min:10,max:150,default:20}]}];var w=n(36),x={rasterizer:"<p>My interest in Rasterization started during my first internship at <a href=\"https://www.lucasfonts.com\">LucasFonts</a>, where I heard talking lucas about VTT and some other stuff that I didn't understand. VTT is a program for Windows that is used to create very advanced and powerful hinting for fonts used on many types of computers. It's very challenging to become.</p>",rotorizer:'<p>There was a font that was replaced by an algorithm, started to reproduce. I started working on rotor. First version were done by hand in FontLab, slowly after studying at <a href="https://typemedia.org/">TM</a> in the Hague,</p>',foundry:"<p>this is about foundry</p>"},S=function(){return{padding:"0 10px 10px 10px"}};var C=function(e){var t=e.identifier,n=Object(f.a)().css;return r.a.createElement("article",{className:n(S)},r.a.createElement(w.a,null,x[t]))},F=function(e){return function(){return{gridColumn:e}}},N=function(e){e.fileIsDragged;return{position:"fixed",fontSize:"4em",top:0,backgroundColor:"#fff",opacity:1,left:0,right:0,bottom:0}},z=function(){return{position:"absolute"}},I=function(){return{display:["none","inline"]}},k=function(){return{whiteSpace:"no-wrap"}};var L=function(e){var t,n=e.label,i=Object(a.useRef)(),o=Object(a.useRef)(),c=Object(a.useState)({}),u=Object(l.a)(c,2),s=u[0],d=u[1],m=Object(a.useContext)(ue),p=m.inputFont,v=m.setInputFont,b=Object(a.useState)(!1),h=Object(l.a)(b,2),g=h[0],y=h[1],O=Object(f.a)({fileIsDragged:g}).css;function j(e){var t;e.preventDefault(),e.stopPropagation(),1===(null===(t=e.dataTransfer)||void 0===t?void 0:t.files.length)&&(v(e.dataTransfer.files[0]),o.current=null),y(!1)}function E(e){o.current="entered",e.preventDefault(),e.stopPropagation(),y(!0)}function w(e){"moving"===o.current&&(e.preventDefault(),e.stopPropagation(),y(!1),o.current="left")}function x(e){var t=e.clientX,n=e.clientY;d({left:t,top:n}),e.preventDefault(),e.stopPropagation()}return Object(a.useEffect)((function(){g?(document.body.querySelector("#root").style.pointerEvents="none",o.current="moving"):document.body.querySelector("#root").style.removeProperty("pointer-events")}),[g]),Object(a.useEffect)((function(){return document.body.addEventListener("dragenter",E),document.body.addEventListener("dragleave",w),document.body.addEventListener("dragover",x),document.body.addEventListener("drop",j),function(){document.body.removeEventListener("dragleave",w),document.body.removeEventListener("dragenter",E),document.body.removeEventListener("dragover",x),document.body.removeEventListener("drop",j)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:O(F(1))},n),r.a.createElement("input",{ref:i,type:"file",onChange:function(e){1===e.target.files.length&&v(e.target.files[0])},style:{display:"none"},accept:".ttf,.otf,woff,woff2"}),r.a.createElement("button",{className:O(F(3),k),onClick:function(e){i.current.click()}},r.a.createElement("span",null,null!==(t=null===p||void 0===p?void 0:p.name)&&void 0!==t?t:"select file"),!(null===p||void 0===p?void 0:p.name)&&r.a.createElement("span",{className:O(I)}," or drop it")),g&&r.a.createElement("div",{className:O(N)},r.a.createElement("span",{className:O(z),style:s},"Drop it")))},H=function(){return{fontVariantNumeric:"tabular-nums",padding:"0 .2em"}},V=function(){return{height:"100%",display:"flex",flexDirection:"column"}},D=function(){return{visibility:"hidden"}};var R=function(e){var t=e.label,n=e.name,i=e.min,o=e.max,c=e.value,u=e.onChange,d=e.animatable,m=void 0!==d&&d,p=e.disabled,v=void 0!==p&&p,b=e.rules,h=void 0===b?[]:b,g=Object(a.useRef)(),y=Object(a.useRef)(),O=Object(a.useState)(),j=Object(l.a)(O,2),E=j[0],w=j[1],x=Object(a.useContext)(q).filterIdentifier,S=Object(a.useContext)(le).setFormInputValue,C=Object(a.useState)(c),N=Object(l.a)(C,2),z=N[0],I=N[1],k=Object(f.a)({animating:E}).css;return Object(a.useEffect)((function(){return g.current.value=z,function(){clearInterval(y.current)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:k.apply(void 0,[F(1)].concat(Object(s.a)(h)))},t),m&&r.a.createElement("button",{className:k.apply(void 0,[V,F(2)].concat(Object(s.a)(h))),onClick:function(){if(!0===E)clearInterval(y.current);else{var e=0,t=z;y.current=setInterval((function(){var n=(t+e)%720,a=Math.round(n-360<0?n:360-n%360);I(a),g.current.value=a,u&&u(a);var r=10-(Math.cos(Math.PI*n/180)+1)/2*9;e+=r}),1e3/30)}w(!E)}},r.a.createElement("span",null,E?"stop":"play"),r.a.createElement("span",{className:k(D),"aria-label":"hidden"},"play"),r.a.createElement("span",{className:k(D),"aria-label":"hidden"},"stop")),r.a.createElement("input",{ref:g,className:k.apply(void 0,[F(3)].concat(Object(s.a)(h))),type:"range",onChange:function(e){if(g.current.checkValidity()){var t=parseInt(e.target.value);I(t),u&&u(e.target.value),n&&S(x,n,t)}},min:i,max:o,disabled:v}),r.a.createElement("div",{className:k.apply(void 0,[H].concat(Object(s.a)(h))),disabled:v},z))},T=function(){return{background:"transparent",outline:"none",border:"none"}};var P=function(e){var t=e.label,n=e.value,i=e.onChange,o=e.disabled,c=Object(a.useRef)(),l=Object(f.a)().css;return Object(a.useEffect)((function(){c.current.value=n}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:l(F(1))},t),r.a.createElement("input",{ref:c,className:l(T,F(3)),type:"text",onChange:function(){c.current.checkValidity()&&i&&i(c.current.value)},disabled:o}))},M=function(e){var t=e.previewedFontFamily,n=e.visible,a=e.color,r=e.inListView;e.formHeight;return{userSelect:"none",padding:"10px",transitionDuration:"".concat(350,"ms"),transitionProperty:"opacity, filter",transitionTimingFunction:"ease-in",whiteSpace:"nowrap",textRendering:"optimizeSpeed",extend:[{condition:t,style:{fontFamily:t}},{condition:a,style:{color:a}},{condition:!n,style:{opacity:0,filter:"blur(.025em)"}},{condition:r,style:{fontVariationSettings:'"RTTX" 150'}}]}},_=function(e){var t=e.inListView,n=e.formHeight;return{zIndex:-1,userSelect:"none",pointerEvents:"none",position:"absolute",top:0,left:0,width:"100vw",height:"100vh",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:t?"flex-start":"center",extend:[{condition:t,style:{height:"100%"}},{condition:!t&&!n,style:{visibility:"hidden"}}]}};var B=function(e){var t=e.fontSize,n=e.inListView,i=void 0!==n&&n,o=e.fontFamily,c=e.fontVariations,u=void 0===c?{}:c,s=e.color,d=e.formHeight,m=Object(a.useRef)(),p=Object(a.useState)(!0),v=Object(l.a)(p,2),b=v[0],h=v[1],g=Object(a.useState)(o),y=Object(l.a)(g,2),O=y[0],j=y[1],E=Object(a.useState)(e.children),w=Object(l.a)(E,2),x=w[0],S=w[1];Object(a.useEffect)((function(){o!==O&&(h(!1),setTimeout((function(){j(o),S(e.children),h(!0)}),400))}),[o]);var C=Object(f.a)({visible:b,inListView:i,previewedFontFamily:O,color:s,formHeight:d}).css;return r.a.createElement("div",{className:C(_),style:{fontSize:"".concat(t,"px")}},r.a.createElement("span",{ref:m,className:C(M),style:{fontVariationSettings:Object.keys(u).map((function(e){return'"'.concat(e,'" ').concat(u[e])})).join(", ")}},x))},W=n(22),X=n.n(W);var A,Y=function(e){var t=e.content;return r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement("li",{key:t},e)})))},q=Object(a.createContext)(),J=function(){return{textAlign:"right"}},Z=function(e){e.innerHeight;return{top:0,position:"fixed",flexDirection:"column",height:"100%",display:"flex",justifyContent:"flex-end",transition:"height .05s ease-in"}},U=function(){return{pointerEvents:"all",display:"grid",gridTemplateColumns:["min-content min-content auto 3ch 5ch","repeat(4, min-content) 3ch"],width:["calc(100% - 10px)","auto"],gap:"0px 6px",gridAutoRows:"1.2em",whiteSpace:"nowrap",alignItems:"center",justifyContent:"center",marginBottom:"10px"}},G=function(){return{minHeight:"100%",top:0,position:"absolute",width:"100%",display:"flex",flexDirection:"column",padding:"10px",pointerEvents:"none"}},K=function(){return{display:"flex",alignItems:"flex-end",flexDirection:"row"}},Q=function(e){return{display:"block",animationName:{"0%":{paddingBottom:".5em"},"40%":{paddingBottom:"0"},"100%":{paddingBottom:"0"}},animationDuration:"1s",animationIterationCount:"infinite",animationDirection:"alternate-reverse",animationPlayState:e.isProcessing?"processing":"paused"}},$=function(){return{"@media(hover:none)":{display:"none"}}},ee=X.a.CancelToken;var te=function(e){var t,n=e.inputs,i=e.variableFontControlSliders,o=e.filterIdentifier,c=e.navHeight,u=e.formHeight,d=e.setFormHeight,m=e.fontSize,p=e.setFontSize,v=Object(a.useContext)(de),b=v.previewedInputFont,h=v.setPreviewedInputFont,g=Object(a.useState)(window.innerHeight),y=Object(l.a)(g,2),O=y[0],j=y[1],E=Object(a.useRef)(),w=Object(a.useRef)(null),x=Object(a.useState)([]),S=Object(l.a)(x,2),C=S[0],N=S[1],z=Object(a.useContext)(me).setPreviewedOutputFonts,I=Object(a.useContext)(le).formInputValues,k=Object(a.useRef)(m),H=Object(a.useContext)(ue).inputFont,V=Object(a.useRef)(!1),D=Object(a.useRef)(void 0),T=Object(a.useContext)(se),M=T.previewStrings,_=T.setPreviewString,W=Object(a.useState)(M[o]),te=Object(l.a)(W,2),ne=te[0],ae=te[1],re=Object(a.useState)(!1),ie=Object(l.a)(re,2),oe=ie[0],ce=ie[1],fe=Object(a.useState)(!1),ve=Object(l.a)(fe,2),be=ve[0],he=ve[1],ge=Object(a.useContext)(pe),ye=ge.fontVariations,Oe=ge.setFontVariations,je=Object(f.a)({navHeight:c,isProcessing:be,innerHeight:O}).css;function Ee(e){switch(e.touches.length){case 2:var t=Object(l.a)(e.touches,2),n=t[0],a=n.pageX,r=n.pageY,i=t[1],o=i.pageX,c=i.pageY,u=2*Math.hypot(c-r,o-a);if(w.current){var s=k.current-(w.current-u);s>20&&(p(s),k.current=s)}w.current=u}}function we(e){w.current=null}function xe(e){j(window.innerHeight)}return Object(a.useEffect)((function(){if(V.current&&H){var e=Date.now();A=e,setTimeout((function(){e===A&&(_(o,ne),function(){var e=new FormData;e.append("font_file",H),e.append("preview_string",ne),Object.keys(I[o]).forEach((function(t){return e.append(t,I[o][t])})),he(!0),X()({method:"post",cancelToken:new ee((function(e){D.current=e})),url:"http://0.0.0.0:5000/filters/".concat(o),data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){N(e.data.warnings);var t=e.data.fonts.map((function(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}));return Promise.all([H.arrayBuffer(),t])})).then((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return[new FontFace("preview-input-font-".concat(Date.now()),n),a.map((function(e,t){return new FontFace("preview-output-font-".concat(Date.now(),"-").concat(t),e)}))]})).then((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return document.fonts.add(n),a.map((function(e){return document.fonts.add(e)})),[n,a]})).then((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];h(n.family),z(o,a.map((function(e){return e.family})))})).catch((function(e){X.a.isCancel(e)?console.log(e.message):console.log(e)})).finally((function(){he(!1)}))}())}),500)}}),[I,H,ne,o]),Object(a.useEffect)((function(){V.current=!0;var e=E.current.offsetHeight;return d(e),document.body.style.touchAction="none",window.addEventListener("resize",xe),window.addEventListener("touchmove",Ee),window.addEventListener("touchend",we),function(){window.removeEventListener("resize",xe),window.removeEventListener("touchmove",Ee),window.removeEventListener("touchend",we),document.body.style.removeProperty("touch-action"),V.current=!1,ce(!1),void 0!==D.current&&(he(!1),D.current("cancelled by user"),D.current=void 0)}}),[]),r.a.createElement(q.Provider,{value:{filterIdentifier:o}},r.a.createElement("div",{className:je(G)},r.a.createElement(B,{fontFamily:b,fontSize:m,formHeight:u},M[o]),r.a.createElement("div",{className:je(Z)},be&&r.a.createElement("div",{className:je(K)},Object(s.a)("processing...........").map((function(e,t){return r.a.createElement("span",{key:"processing-".concat(t),className:je(Q,(function(){return{animationDelay:"".concat(t/10,"s")}}))},e)}))),r.a.createElement(Y,{content:C}),r.a.createElement("div",{ref:E,className:je(U)},null===i||void 0===i?void 0:i.map((function(e,t){return r.a.createElement(R,{label:e.label,key:"font_ui_".concat(t),min:e.min,max:e.max,tag:e.tag,value:ye[o][e.tag],onChange:function(t){return Oe(o,e.tag,t)},animatable:!0})})),r.a.createElement(R,{label:"font size",min:20,max:1e3,value:m,onChange:function(e){return p(e)},rules:[$]}),r.a.createElement(L,{label:"font file"}),r.a.createElement(P,{label:"preview",value:M[o],onChange:function(e){return ae(e)},disabled:!Boolean(H)}),n.map((function(e,t){switch(e.type){case"range":return r.a.createElement(R,{label:e.label,name:e.name,key:"input_".concat(o,"_").concat(t),min:e.min,max:e.max,value:I[o][e.name],disabled:!Boolean(H)});default:throw new Error("component not found")}})),r.a.createElement("button",{className:je(F(5),J),onClick:function(){return ce(!oe)},disabled:!Boolean(H)},oe?"hide":"get"),oe&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",{className:je(F("1 / span 5"),(t="100%",function(){return{width:t}}))}),r.a.createElement(P,{label:"font name"}),r.a.createElement("button",{className:je(F("5"))},"download"),r.a.createElement(P,{label:"email"}),r.a.createElement("button",{className:je(F("5"))},"send"))))))},ne=function(e){var t=e.navHeight;return{marginTop:"".concat(t,"px")}};var ae=function(e){var t=e.filterIdentifier,n=e.navHeight,i=e.layerColors,o=e.formHeight,c=e.fontSize,l=Object(a.useContext)(se).previewStrings,u=Object(a.useContext)(me).previewedOutputFonts,s=Object(a.useContext)(pe).fontVariations,d=Object(f.a)({navHeight:n}).css;return r.a.createElement("div",{className:d(ne)},i.map((function(e,n){return r.a.createElement(B,{key:"".concat(t,"-overlay-").concat(n),fontFamily:u[t][n]||"".concat(t,"-").concat(n),fontSize:c,fontVariations:s[t],color:e,formHeight:o},l[t])})))},re=function(e){var t=e.fontSize;return{position:"relative",height:"".concat(.8*t,"px")}};var ie=function(e){var t=e.filterRoutes,n=e.fontSize,a=Object(f.a)({fontSize:n}).css;return r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement("li",{key:"list-view-".concat(e.route)},r.a.createElement(v,{to:e.route},r.a.createElement("div",{className:a(re)},r.a.createElement(B,{fontSize:n,inListView:!0},e.title))))})))},oe=function(e){var t=e.navHeight;return{marginTop:"".concat(t,"px")}};var ce=function(e){var t=e.filterRoutes,n=e.navHeight,a=e.fontSize,i=Object(f.a)({navHeight:n,fontSize:a}).css;return r.a.createElement("ul",{className:i(oe)},t.map((function(e){return r.a.createElement("li",{key:"overlay-link-".concat(e.route)},r.a.createElement(v,{to:e.route},r.a.createElement("div",{className:i(re)},e.layerColors.map((function(t,n){return r.a.createElement(B,{key:"overlay-font-preview-".concat(n),fontSize:a,inListView:!0,fontFamily:"".concat(e.filterIdentifier,"-").concat(n),color:t},e.title)})))))})))},le=Object(a.createContext)(),ue=Object(a.createContext)(),se=Object(a.createContext)(),fe=(Object(a.createContext)(),Object(a.createContext)()),de=Object(a.createContext)(),me=Object(a.createContext)(),pe=Object(a.createContext)(),ve=E.filter((function(e){return"filterDetailView"===e.type})),be=ve.reduce((function(e,t){var n;return e[t.filterIdentifier]=[].concat(Object(s.a)(t.inputs),Object(s.a)(null!==(n=null===t||void 0===t?void 0:t.variableFontControlSliders)&&void 0!==n?n:[])).reduce((function(e,t){return e[t.name]=t.default,e}),{fontSize:null}),e}),{});function he(){return ve.reduce((function(e,t){return e[t.filterIdentifier]=Math.ceil(function(e,t){var n=document.createElement("span");n.innerHTML=e,n.style.fontSize="200px",n.style.fontFamily=t,document.body.appendChild(n);var a=n.offsetWidth;return document.body.removeChild(n),Math.floor((document.body.clientWidth-20)/a*200)}(t.title,"Times New Roman")),e}),{})}var ge=function(e){var t=e.contentIsVisible,n=e.navHeight;return Object(u.a)({position:"fixed",bottom:0,width:"100%",height:"0px",left:0,background:"#ccc",transition:"height ".concat(350,"ms"),transform:"translateZ(0)",transitionTimingFunction:t?"cubic-bezier(.55,0,1,.45)":"cubic-bezier(0,.55,.45,1)"},"height",t?0:"calc(100% - ".concat(n-10,"px)"))},ye=function(e){var t=e.isTouching;return{zIndex:-1,top:0,left:0,width:"100%",position:"absolute",background:"#eee",overflow:"hidden",transform:"translateZ(0)",extend:[{condition:t,style:{height:"100%"}},{condition:!t,style:{width:"100%"}},{condition:e.transitionWidth,style:{transition:"width .15s ease-in"}}]}},Oe=function(){return{fontSize:["22px","18px"]}};var je=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(null),u=Object(l.a)(o,2),m=u[0],p=u[1],v=Object(a.useState)(he()),b=Object(l.a)(v,2),h=b[0],g=b[1],y=Object(a.useState)(be),O=Object(l.a)(y,2),w=O[0],x=O[1],S=Object(a.useState)(!0),F=Object(l.a)(S,2),N=F[0],z=F[1],I=Object(a.useState)(0),k=Object(l.a)(I,2),L=k[0],H=k[1],V=Object(a.useState)(!1),D=Object(l.a)(V,2),R=D[0],T=D[1],P=Object(a.useState)(!1),M=Object(l.a)(P,2),_=M[0],B=M[1],W=Object(a.useState)(0),X=Object(l.a)(W,2),A=X[0],Y=X[1],q=Object(a.useState)(0),J=Object(l.a)(q,2),Z=J[0],U=J[1],G=Object(a.useState)(Math.min.apply(Math,Object(s.a)(Object.values(he())))),K=Object(l.a)(G,2),Q=K[0],$=K[1],ee=Object(a.useState)(0),ne=Object(l.a)(ee,2),re=ne[0],oe=ne[1],je=Object(f.a)({contentIsVisible:N,navHeight:L,isTouching:R,transitionWidth:_}).css,Ee=Object(a.useRef)(),we=Object(a.useRef)(Date.now()),xe=Object(a.useState)(ve.reduce((function(e,t){return e[t.filterIdentifier]=Array(t.numberOfLayers),e}),{})),Se=Object(l.a)(xe,2),Ce=Se[0],Fe=Se[1],Ne=Object(a.useState)(ve.reduce((function(e,t){return t.variableFontControlSliders&&(e[t.filterIdentifier]=t.variableFontControlSliders.reduce((function(e,t){return e[t.tag]=t.default,e}),{})),e}),{})),ze=Object(l.a)(Ne,2),Ie=ze[0],ke=ze[1];function Le(e){Date.now()-we.current>500&&(B(!1),T(!1),Y(e.pageY))}function He(e){we.current=Date.now(),B(!0),T(!0),1===e.touches.length&&U(e.touches[0].pageX)}function Ve(e){var t;switch(B(!1),e.touches.length){case 1:t=e.touches[0].pageX;break;case 2:var n=Object(l.a)(e.touches,2),a=n[0].pageX,r=n[1].pageX;t=Math.min(a,r)+Math.abs(r-a)/2}U(t)}function De(e){$(Math.min.apply(Math,Object(s.a)(Object.values(he()))))}Object(a.useEffect)((function(){return window.addEventListener("resize",De),window.addEventListener("mousemove",Le,!1),window.addEventListener("touchstart",He),window.addEventListener("touchmove",Ve),function(){window.removeEventListener("resize",De),window.removeEventListener("mousemove",Le),window.removeEventListener("touchstart",He),window.removeEventListener("touchmove",Ve)}}),[]);var Re=Object(a.useState)(ve.reduce((function(e,t){return e[t.filterIdentifier]=t.title,e}),{})),Te=Object(l.a)(Re,2),Pe=Te[0],Me=Te[1];return r.a.createElement("div",{className:je(Oe)},r.a.createElement(se.Provider,{value:{previewStrings:Pe,setPreviewString:function(e,t){var n=Object(c.a)({},Pe);n[e]=t,Me(n)}}},r.a.createElement(me.Provider,{value:{previewedOutputFonts:Ce,setPreviewedOutputFonts:function(e,t){var n={};n[e]=t,Fe(Object(c.a)(Object(c.a)({},Ce),n))}}},r.a.createElement(pe.Provider,{value:{fontVariations:Ie,setFontVariations:function(e,t,n){var a=Object(c.a)({},Ie);a[e][t]=parseInt(n),ke(a)}}},r.a.createElement(fe.Provider,{value:z},r.a.createElement(j,{setNavHeight:H,filterRoutes:ve}),r.a.createElement(le.Provider,{value:{formInputValues:w,setFormInputValue:function(e,t,n){var a=Object(c.a)({},w);a[e][t]=n,x(a)}}},r.a.createElement(ue.Provider,{value:{inputFont:n,setInputFont:i}},r.a.createElement(de.Provider,{value:{previewedInputFont:m,setPreviewedInputFont:p}},r.a.createElement("main",null,r.a.createElement(d.c,null,E.map((function(e,t){var n;switch(e.type){case"filterDetailView":n=r.a.createElement(te,Object.assign({},e,{navHeight:L,key:e.route,setFormHeight:oe,formHeight:re,fontSize:h[e.filterIdentifier],setFontSize:function(t){return function(e,t){var n=Object(c.a)({},h);n[e]=t,g(n)}(e.filterIdentifier,t)}}));break;case"filterListView":n=r.a.createElement(ie,Object.assign({},e,{filterRoutes:ve,fontSize:Q}));break;default:throw new Error("view not matched")}return r.a.createElement(d.a,{path:e.route,element:n,key:"route_".concat(t)})})),ve.map((function(e,t){return r.a.createElement(d.a,{key:"about_route_".concat(t),path:"".concat(e.route,"/about"),element:r.a.createElement(C,{identifier:e.filterIdentifier})})})),r.a.createElement(d.a,{path:"/about",element:r.a.createElement(C,{identifier:"foundry"})}))))))),r.a.createElement("div",{className:je(ge)}),r.a.createElement("div",{ref:Ee,className:je(ye),style:Object(c.a)({},R?{width:"".concat(Z,"px")}:{height:"".concat(A,"px")})},r.a.createElement(d.c,null,E.map((function(e,t){var n;switch(e.type){case"filterDetailView":n=r.a.createElement(ae,Object.assign({},e,{navHeight:L,key:e.route,setFormHeight:oe,formHeight:re,fontSize:h[e.filterIdentifier]}));break;case"filterListView":n=r.a.createElement(ce,Object.assign({},e,{filterRoutes:ve,navHeight:L,fontSize:Q}));break;default:throw new Error("not matched")}return r.a.createElement(d.a,{path:e.route,element:n,key:"overlay_route_".concat(t)})}))))))))},Ee=n(79),we=n(78),xe=n(37),Se=n(38),Ce=n(39),Fe=n(40),Ne=Object(we.a)({plugins:[Object(xe.a)(),Object(Se.a)(),Object(Fe.a)(),Object(Ce.a)((function(e,t){switch(e.length){case 2:return["@media (min-width: 570px)"];default:return[]}}),{padding:!0,margin:!0,display:!0,fontSize:!0,gridTemplateColumns:!0,width:!0,height:!0})]});Ne.renderStatic({boxSizing:"border-box",textDecoration:"None",fontFamily:"inherit",fontSize:"inherit",color:"inherit","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"},"html,body,div,input,label,a,button");Ne.renderStatic({fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit"},"h1,h2,h3,h4,h5,h6,h6,h8");Ne.renderStatic({padding:0,margin:0},"html,body,div,input,label,a,button,h1,h2,h3,h4,h5,h6,h6,h8,p");Ne.renderStatic({fontFamily:"'Times New Roman', serif",maxWidth:"100vw",minHeight:"100vh",position:"relative",overscrollBehavior:"contain",overflow:"auto"},"body");Ne.renderStatic({height:"100%",width:"100%"},"html");Ne.renderStatic({margin:0,listStyleType:"None",padding:0},"ul");Ne.renderStatic({whiteSpace:"nowrap",background:"transparent",outline:"none",border:"none",appearance:"none",textAlign:"left",textDecoration:"underline"},"button");Ne.renderStatic({color:"gray",userSelect:"none",pointerEvents:"none"},"*[disabled]");Ne.renderStatic({minWidth:"80px"},"input");Ne.renderStatic({textDecoration:"underline"},"a.active");["rasterizer-0","rotorizer-0","rotorizer-1"].forEach((function(e){return Ne.renderFont(e,["".concat(e,".ttf")])})),o.a.render(r.a.createElement(m.a,null,r.a.createElement(Ee.a,{renderer:Ne},r.a.createElement(r.a.StrictMode,null,r.a.createElement(je,null)))),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.25a6ddee.chunk.js.map