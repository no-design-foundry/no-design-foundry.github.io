(this["webpackJsonpfe-2"]=this["webpackJsonpfe-2"]||[]).push([[0],{43:function(e,t,n){e.exports=n(70)},70:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),i=n.n(r),o=n(35),c=n.n(o),l=n(10),s=n(8),u=n(21),f=n(80),d=n(1),m=n(16),p=function(){return{textDecoration:"None"}},h=function(e){var t=e.to,n=e.className,a=void 0===n?"":n,o=Object(r.useContext)(Ee),c=Object(d.f)(),l=Object(f.a)().css;return i.a.createElement(m.b,{to:t,onClick:function(e){e.preventDefault(),o(!1),setTimeout((function(){c(t),o(!0)}),400)},className:"".concat(l(p)," ").concat(a)},e.children)},b=function(e){var t=e.pathname;return{extend:[{condition:(0,e.condition)(t),style:{textDecoration:"underline !important"}}]}};var v=function(e){var t=e.to,n=e.className,a=void 0===n?"":n,r=e.condition,o=void 0===r?function(e){return e.startsWith(t)}:r,c=Object(d.e)(),l=Object(f.a)({pathname:c.pathname,to:t,condition:o}).css;return i.a.createElement(h,{to:t,className:"".concat(l(b)," ").concat(a)},e.children)},g=function(){return{padding:"10px"}},y=function(){return{}},w=function(){return{":before":{content:'", "'}}},E=function(){return{display:"flex",flexDirection:"row"}};var j=function(e){var t=Object(r.useRef)(),n=e.setNavHeight,a=e.filterRoutes,o=Object(f.a)().css,c=Object(d.e)();function l(){var e=t.current.getBoundingClientRect().height;n(e+20)}return Object(r.useEffect)((function(){l()}),[c]),Object(r.useEffect)((function(){return l(),window.addEventListener("resize",l),function(){window.removeEventListener("resize",l)}}),[]),i.a.createElement("nav",{className:o(g)},i.a.createElement("ul",null,i.a.createElement("li",{ref:t,className:o(y)},i.a.createElement("ul",{className:o(E)},i.a.createElement("li",null,i.a.createElement(v,{to:"/",condition:function(e){return["/","/about"].includes(e)}},"no design foundry")),("/"===c.pathname||"/about"===c.pathname)&&i.a.createElement("li",null,i.a.createElement(v,{to:"/about",className:o(w),condition:function(e){return"/about"===e}},"about")))),"/"!==c.pathname&&a.map((function(e,t){return i.a.createElement("li",{key:"nav_".concat(t)},i.a.createElement("ul",{className:o(E)},i.a.createElement("li",{className:o(y)},i.a.createElement(v,{to:e.route},e.title)),c.pathname.startsWith(e.route)&&i.a.createElement("li",null,i.a.createElement(v,{to:"".concat(e.route,"/about"),className:o(w)},"about"))))}))))},O=[{type:"filterListView",route:"/"},{type:"filterDetailView",title:"Rotorizer",filterIdentifier:"rotorizer",route:"/rotorizer",numberOfLayers:2,layerColors:["gray","#000"],variableFontControlSliders:[{label:"rotation",tag:"RTTX",min:0,max:360,default:130}],inputs:[{type:"range",label:"depth",name:"depth",min:2,max:600,default:100}]},{type:"filterDetailView",title:"Rastr",filterIdentifier:"rasterizer",route:"/rasterizer",numberOfLayers:1,layerColors:["#000"],inputs:[{type:"range",label:"resolution",name:"resolution",min:10,max:150,default:20}]}];function x(e){var t=Object.keys(e).reduce((function(t,n){return t.push('"'.concat(n,'" ').concat(e[n])),t}),[]).join(", ");return t?{fontVariationSettings:t}:{}}var S=n(36),C={rasterizer:"<p>A font that had this filter applied on went through the process of rasterisation. It's the same rasterization that rasterizes fonts on your iPhone or a Android phone, a coffee machines or something completely else. Software behind it is called <a href=\"https://freetype.org/\" target=\"_blank\">FreeType</a> and it's an open source rasterizer that is used in the industry. </p>\n<p>Such rasterisation is very complex process, it uses font's information called hinting. Hinting simply hints the rasterizer what to do. It can tell it to make sure to have this stroke the same amount of pixels as this stroke or show overshoot only if the font size is above 20px. If the font doesn't contain any hinting, then the rasterizer tries to do its best job.</p>\n<p>General rule is that fonts with suffix <code>.ttf</code> should have better displaying capabilities than fonts ending with <code>.otf</code>. Old classic as Verdana, Arial or Times New Roman perform very well when rasterised in small sizes. </p>\n<p>The smallest sizes in some of the older fonts were specially prepared as separate bitmaps. Someone was really there, drawing that system font bitmap of eight pixels!</p>",rotorizer:"<p>There was a typeface that was soon replaced by an algorithm, this typeface's only distinctive feature was something that soon every font can turn into.</p>\n<p>The font is dead, long live the algorithm!</p>\n<p>It was a long journey of slowly learning how to automate my tedious inhuman workflow to produce the variable font until completely automating it.</p>\n<p>It already asks the question of our future lives, are we gonna be all replaced by an algorithm? What kind of work will humans do? Only the creative one? I don't know, but lets leave production of such fonts to an algorithm.</p>",foundry:'<p>This is the type foundry without any typefaces. It contains collection of filters that can be applied on already existing fonts, the ones you already have. It tries to reuse and refresh already existing fonts and designs.</p>\n<p>This website doesn\'t store your fonts, your fonts are only processed on the server and send to you directly.</p>\n<p>This project is primarily work of <a href="https://www.jansindler.com" target="_blank">Jan \u0160indler</a>, but also of many others who directly or indirectly influenced this project. Thank you: <a href="https://www.hallotype.nl/" target="_blank">Thom Janssen</a>, <a href="https://www.youtube.com/watch?v=7uNYg98YTNI" target="_blank">Oli Sabin</a>, <a href="https://rosettatype.com/" target="_blank">David B\u0159ezina</a>, Just van Rossum &amp; everyone at <a href="https://typemedia.org/" target="_blank">TM</a> &amp; everyone who keeps maintained all the libraries that I am using in this project.</p>'},k=function(){return{padding:"calc(1em - 10px) 10px 10px 10px",maxWidth:"50ch","& p + p":{marginTop:"1em"}}};var z=function(e){var t=e.identifier,n=Object(f.a)().css;return i.a.createElement("article",{className:n(k)},i.a.createElement(S.a,null,C[t]))},F=function(e){var t=e.previewedFontFamily,n=e.inListView,a=e.visible,r=e.color,i=e.marginBottom,o=e.marginTop;return{userSelect:"none",padding:"10px",transitionDuration:"".concat(350,"ms"),transitionProperty:"opacity, filter",transitionTimingFunction:"ease-in",whiteSpace:"nowrap",textRendering:"optimizeSpeed",marginBottom:"".concat(n||!n&&i?-.226:i,"em"),marginTop:"".concat(n||!n&&o?-.204:o,"em"),extend:[{condition:t,style:{fontFamily:t}},{condition:r,style:{color:r}},{condition:!a,style:{opacity:0,filter:"blur(.025em)"}}]}},I=function(e){var t=e.inListView;return{zIndex:-1,userSelect:"none",pointerEvents:"none",position:"absolute",top:0,left:0,width:"100vw",height:"100vh",display:"flex",transform:"translateZ(0)",alignItems:"center",justifyContent:t?"flex-start":"center",extend:[{condition:t,style:{height:"100%"}}]}};var N=function(e){var t=e.fontSize,n=e.inListView,o=void 0!==n&&n,c=e.fontFamily,s=e.fontVariations,u=void 0===s?{}:s,d=e.color,m=Object(r.useRef)(),p=Object(r.useState)(!1),h=Object(a.a)(p,2),b=h[0],v=h[1],g=Object(r.useState)(c),y=Object(a.a)(g,2),w=y[0],E=y[1],j=Object(r.useState)(e.children),O=Object(a.a)(j,2),S=O[0],C=O[1],k=Object(r.useContext)(H).fontPreviewMargins,z=k.marginBottom,N=k.marginTop;Object(r.useEffect)((function(){setTimeout((function(){v(!0)}),100)}),[]),Object(r.useEffect)((function(){c!==w&&(v(!1),setTimeout((function(){E(c),C(e.children),v(!0)}),400))}),[c]);var D=Object(f.a)({visible:b,inListView:o,previewedFontFamily:w,color:d,fontVariations:u,marginTop:N,marginBottom:z}).css;return i.a.createElement("div",{className:D(I),style:{fontSize:"".concat(t,"px")}},i.a.createElement("span",{ref:m,className:D(F),style:Object(l.a)({},x(u))},S))},D=Object(r.createContext)(),T=Object(r.createContext)(),L=Object(r.createContext)(),R=(Object(r.createContext)(),Object(r.createContext)()),V=Object(r.createContext)(),P=Object(r.createContext)(),H=Object(r.createContext)();var M=function(e){var t=Object(r.useState)(null),n=Object(a.a)(t,2),o=n[0],c=n[1],u=Object(r.useState)(null),f=Object(a.a)(u,2),d=f[0],m=f[1],p=Object(r.useState)({marginBottom:0,marginTop:0}),h=Object(a.a)(p,2),b=h[0],v=h[1],g=Object(r.useState)(je.reduce((function(e,t){return e[t.filterIdentifier]=Array(t.numberOfLayers),e}),{})),y=Object(a.a)(g,2),w=y[0],E=y[1],j=Object(r.useState)(je.reduce((function(e,t){return e[t.filterIdentifier]=t.title,e}),{})),O=Object(a.a)(j,2),x=O[0],S=O[1],C=Object(r.useState)(je.reduce((function(e,t){var n;return e[t.filterIdentifier]=[].concat(Object(s.a)(t.inputs),Object(s.a)(null!==(n=null===t||void 0===t?void 0:t.variableFontControlSliders)&&void 0!==n?n:[])).reduce((function(e,t){return e[t.name]=t.default,e}),{fontSize:null}),e}),{})),k=Object(a.a)(C,2),z=k[0],F=k[1],I=Object(r.useState)(je.reduce((function(e,t){return t.variableFontControlSliders&&(e[t.filterIdentifier]=t.variableFontControlSliders.reduce((function(e,t){return e[t.tag]=t.default,e}),{})),e}),{})),N=Object(a.a)(I,2),M=N[0],_=N[1],B=Object(r.useRef)(!1);return Object(r.useEffect)((function(){B.current}),[o]),Object(r.useEffect)((function(){B.current=!0}),[]),i.a.createElement(L.Provider,{value:{previewStrings:x,setPreviewString:function(e,t){var n=Object(l.a)({},x);n[e]=t,S(n)}}},i.a.createElement(V.Provider,{value:{previewedOutputFonts:w,setPreviewedOutputFonts:function(e,t){var n={};n[e]=t,E(Object(l.a)(Object(l.a)({},w),n))}}},i.a.createElement(P.Provider,{value:{fontVariations:M,setFontVariations:function(e,t,n){var a=Object(l.a)({},M);a[e][t]=parseInt(n),_(a)}}},i.a.createElement(D.Provider,{value:{formInputValues:z,setFormInputValue:function(e,t,n){var a=Object(l.a)({},z);a[e][t]=n,F(a)}}},i.a.createElement(T.Provider,{value:{inputFont:o,setInputFont:c}},i.a.createElement(R.Provider,{value:{previewedInputFont:d,setPreviewedInputFont:m}},i.a.createElement(H.Provider,{value:{fontPreviewMargins:b,setFontPreviewMargins:function(e){setTimeout((function(){v(e)}),350)}}},e.children)))))))},_=function(e){return function(){return{gridColumn:e}}},B=function(e){e.fileIsDragged;return{position:"fixed",fontSize:"4em",top:0,backgroundColor:"#fff",opacity:1,left:0,right:0,bottom:0}},W=function(){return{position:"absolute"}},A=function(){return{display:["none","inline"]}},X=function(){return{whiteSpace:"no-wrap"}};var Y=function(e){var t,n=e.label,o=Object(r.useRef)(),c=Object(r.useRef)(),l=Object(r.useState)({}),s=Object(a.a)(l,2),u=s[0],d=s[1],m=Object(r.useContext)(T),p=m.inputFont,h=m.setInputFont,b=Object(r.useState)(!1),v=Object(a.a)(b,2),g=v[0],y=v[1],w=Object(f.a)({fileIsDragged:g}).css;function E(e){var t;e.preventDefault(),e.stopPropagation(),1===(null===(t=e.dataTransfer)||void 0===t?void 0:t.files.length)&&(h(e.dataTransfer.files[0]),c.current=null),y(!1)}function j(e){c.current="entered",e.preventDefault(),e.stopPropagation(),y(!0)}function O(e){"moving"===c.current&&(e.preventDefault(),e.stopPropagation(),y(!1),c.current="left")}function x(e){var t=e.clientX,n=e.clientY;d({left:t,top:n}),e.preventDefault(),e.stopPropagation()}return Object(r.useEffect)((function(){g?(document.body.querySelector("#root").style.pointerEvents="none",c.current="moving"):document.body.querySelector("#root").style.removeProperty("pointer-events")}),[g]),Object(r.useEffect)((function(){return document.body.addEventListener("dragenter",j),document.body.addEventListener("dragleave",O),document.body.addEventListener("dragover",x),document.body.addEventListener("drop",E),function(){document.body.removeEventListener("dragleave",O),document.body.removeEventListener("dragenter",j),document.body.removeEventListener("dragover",x),document.body.removeEventListener("drop",E)}}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:w(_(1))},n),i.a.createElement("input",{ref:o,type:"file",onChange:function(e){1===e.target.files.length&&h(e.target.files[0])},style:{display:"none"},accept:".ttf,.otf,woff,woff2"}),i.a.createElement("button",{className:w(_(3),X),onClick:function(e){o.current.click()}},i.a.createElement("span",null,null!==(t=null===p||void 0===p?void 0:p.name)&&void 0!==t?t:"select file"),!(null===p||void 0===p?void 0:p.name)&&i.a.createElement("span",{className:w(A)}," or drop it")),g&&i.a.createElement("div",{className:w(B)},i.a.createElement("span",{className:w(W),style:u},"Drop it")))},J=function(){return{fontVariantNumeric:"tabular-nums",padding:"0 .2em"}},q=function(){return{height:"100%",display:"flex",flexDirection:"column"}},Z=function(){return{visibility:"hidden"}},G=["12px","8px"],U=function(e){var t=e.position;return{appearance:"none","-webkit-appearance":"none",height:["12px","8px"],borderRadius:G,boxShadow:"inset 0 2px 2px #00000066","&::-webkit-slider-thumb, &::-moz-range-thumb":{appearance:"none","-webkit-appearance":"none",height:["24px","18px"],width:["24px","18px"],background:"#333",borderRadius:"100%",filter:"drop-shadow(0 2px 3px #00000066)",border:"none",outline:"none"},background:"#EEE","&::-moz-range-progress":{boxShadow:"inset 0 2px 2px #00000066",background:"#CCC",height:"100%",borderRadius:G},"@supports not selector(::-moz-range-progress)":{background:"linear-gradient(to right, #CCC 0%, #CCC ".concat(t,"%, #EEE ").concat(t,"%, #EEE 100%)"),"&:disabled":{background:"linear-gradient(to right, #DDD 0%, #DDD ".concat(t,"%, #EEE ").concat(t,"%, #EEE 100%) !important")}},"&:disabled":{"&::-webkit-slider-thumb, &::-moz-range-thumb":{background:"#EEE"}}}};var K=function(e){var t=e.label,n=e.name,o=e.min,c=e.max,l=e.value,s=e.onChange,u=e.animatable,d=void 0!==u&&u,m=e.disabled,p=void 0!==m&&m,h=Object(r.useRef)(),b=Object(r.useRef)(),v=Object(r.useState)(),g=Object(a.a)(v,2),y=g[0],w=g[1],E=Object(r.useContext)(re).filterIdentifier,j=Object(r.useContext)(D).setFormInputValue,O=Object(r.useState)(l),x=Object(a.a)(O,2),S=x[0],C=x[1],k=Object(f.a)({animating:y,position:S/c*100}).css;return Object(r.useEffect)((function(){return h.current.value=S,function(){clearInterval(b.current)}}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:k(_(1))},t),d&&i.a.createElement("button",{className:k(q,_(2)),onClick:function(){if(!0===y)clearInterval(b.current);else{var e=0,t=S;b.current=setInterval((function(){var n=(t+e)%720,a=Math.round(n-360<0?n:360-n%360);C(a),h.current.value=a,s&&s(a);var r=10-(Math.cos(Math.PI*n/180)+1)/2*9;e+=r}),1e3/30)}w(!y)}},i.a.createElement("span",null,y?"stop":"play"),i.a.createElement("span",{className:k(Z),"aria-label":"hidden"},"play"),i.a.createElement("span",{className:k(Z),"aria-label":"hidden"},"stop")),i.a.createElement("input",{ref:h,className:k(_(3),U),type:"range",onChange:function(e){if(h.current.checkValidity()){var t=parseInt(e.target.value);C(t),s&&s(e.target.value),n&&j(E,n,t)}},min:o,max:c,disabled:p}),i.a.createElement("div",{className:k(J),disabled:p},S))},Q=function(){return{background:"transparent",outline:"none",border:"none"}};var $=function(e){var t=e.label,n=e.value,a=e.onChange,o=e.disabled,c=Object(r.useRef)(),l=Object(f.a)().css;return Object(r.useEffect)((function(){c.current.value=n}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{className:l(_(1))},t),i.a.createElement("input",{ref:c,className:l(Q,_(3)),type:"text",onChange:function(){c.current.checkValidity()&&a&&a(c.current.value)},disabled:o}))},ee=n(22),te=n.n(ee);var ne,ae=function(e){var t=e.content;return i.a.createElement("ul",null,t.map((function(e,t){return i.a.createElement("li",{key:t},e)})))},re=Object(r.createContext)(),ie=function(){return{textAlign:"right"}},oe=function(e){e.innerHeight;return{top:0,position:"fixed",flexDirection:"column",height:"100%",display:"flex",justifyContent:"flex-end",transition:"height .05s ease-in"}},ce=function(){return{pointerEvents:"all",display:"grid",gridTemplateColumns:["min-content min-content auto 3ch 5ch","repeat(4, min-content) 3ch"],width:["calc(100% - 10px)","auto"],gap:"0px 6px",gridAutoRows:"1.2em",whiteSpace:"nowrap",alignItems:"center",justifyContent:"center",marginBottom:"10px"}},le=function(){return{minHeight:"100%",top:0,position:"absolute",width:"100%",display:"flex",flexDirection:"column",padding:"10px",pointerEvents:"none"}},se=function(){return{display:"flex",alignItems:"flex-end",flexDirection:"row"}},ue=function(e){return{display:"block",animationName:{"0%":{paddingBottom:".5em"},"40%":{paddingBottom:"0"},"100%":{paddingBottom:"0"}},animationDuration:"1s",animationIterationCount:"infinite",animationDirection:"alternate-reverse",animationPlayState:e.isProcessing?"processing":"paused"}},fe=function(){return{"@media(hover:none)":{display:"none"}}},de=te.a.CancelToken;var me=function(e){var t,n=e.inputs,o=e.variableFontControlSliders,c=e.filterIdentifier,l=e.fontSize,u=e.setFontSize,d=Object(r.useContext)(R),m=d.previewedInputFont,p=d.setPreviewedInputFont,h=Object(r.useState)(window.innerHeight),b=Object(a.a)(h,2),v=b[0],g=b[1],y=Object(r.useRef)(),w=Object(r.useRef)(null),E=Object(r.useState)([]),j=Object(a.a)(E,2),O=j[0],x=j[1],S=Object(r.useContext)(V).setPreviewedOutputFonts,C=Object(r.useContext)(D).formInputValues,k=Object(r.useRef)(l),z=Object(r.useContext)(T).inputFont,F=Object(r.useRef)(!1),I=Object(r.useRef)(void 0),M=Object(r.useContext)(L),B=M.previewStrings,W=M.setPreviewString,A=Object(r.useState)(B[c]),X=Object(a.a)(A,2),J=X[0],q=X[1],Z=Object(r.useState)(!1),G=Object(a.a)(Z,2),U=G[0],Q=G[1],ee=Object(r.useState)(!1),me=Object(a.a)(ee,2),pe=me[0],he=me[1],be=Object(r.useContext)(P),ve=be.fontVariations,ge=be.setFontVariations,ye=Object(r.useContext)(H).setFontPreviewMargins,we=Object(f.a)({isProcessing:pe,innerHeight:v}).css;function Ee(e){switch(e.touches.length){case 2:var t=Object(a.a)(e.touches,2),n=t[0],r=n.pageX,i=n.pageY,o=t[1],c=o.pageX,l=o.pageY,s=2*Math.hypot(l-i,c-r);if(w.current){var f=k.current-(w.current-s);f>20&&(u(f),k.current=f)}w.current=s}}function je(e){w.current=null}function Oe(e){g(window.innerHeight)}return Object(r.useEffect)((function(){if(F.current&&z){var e=Date.now();ne=e,setTimeout((function(){e===ne&&(W(c,J),function(){var e=new FormData;e.append("font_file",z),e.append("preview_string",J),Object.keys(C[c]).forEach((function(t){return e.append(t,C[c][t])})),he(!0);var t={};te()({method:"post",cancelToken:new de((function(e){I.current=e})),url:"http://0.0.0.0:5000/filters/".concat(c),data:e,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){x(e.data.warnings),e.data.margins&&(t=e.data.margins);var n=e.data.fonts.map((function(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}));return Promise.all([z.arrayBuffer(),n])})).then((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return[new FontFace("preview-input-font-".concat(Date.now()),n),r.map((function(e,t){return new FontFace("preview-output-font-".concat(Date.now(),"-").concat(t),e)}))]})).then((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return document.fonts.add(n),r.map((function(e){return document.fonts.add(e)})),[n,r]})).then((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];p(n.family),S(c,r.map((function(e){return e.family})))})).catch((function(e){te.a.isCancel(e)?console.log(e.message):console.log(e)})).finally((function(){he(!1),ye(t)}))}())}),500)}}),[C,z,J,c]),Object(r.useEffect)((function(){return F.current=!0,document.body.style.touchAction="none",window.addEventListener("resize",Oe),window.addEventListener("touchmove",Ee),window.addEventListener("touchend",je),function(){window.removeEventListener("resize",Oe),window.removeEventListener("touchmove",Ee),window.removeEventListener("touchend",je),document.body.style.removeProperty("touch-action"),F.current=!1,Q(!1),void 0!==I.current&&(he(!1),I.current("cancelled by user"),I.current=void 0)}}),[]),i.a.createElement(re.Provider,{value:{filterIdentifier:c}},i.a.createElement("div",{className:we(le)},i.a.createElement(N,{fontFamily:m,fontSize:l},B[c]),i.a.createElement("div",{className:we(oe)},pe&&i.a.createElement("div",{className:we(se)},Object(s.a)("processing...........").map((function(e,t){return i.a.createElement("span",{key:"processing-".concat(t),className:we(ue,(function(){return{animationDelay:"".concat(t/10,"s")}}))},e)}))),i.a.createElement(ae,{content:O}),i.a.createElement("div",{ref:y,className:we(ce)},null===o||void 0===o?void 0:o.map((function(e,t){return i.a.createElement(K,{label:e.label,key:"font_ui_".concat(t),min:e.min,max:e.max,tag:e.tag,value:ve[c][e.tag],onChange:function(t){return ge(c,e.tag,t)}})})),i.a.createElement(K,{label:"font size",min:20,max:1e3,value:l,onChange:function(e){return u(e)},rules:[fe]}),i.a.createElement(Y,{label:"font file"}),i.a.createElement($,{label:"preview",value:B[c],onChange:function(e){return q(e)},disabled:!Boolean(z)}),n.map((function(e,t){switch(e.type){case"range":return i.a.createElement(K,{label:e.label,name:e.name,key:"input_".concat(c,"_").concat(t),min:e.min,max:e.max,value:C[c][e.name],disabled:!Boolean(z)});default:throw new Error("component not found")}})),i.a.createElement("button",{className:we(_(5),ie),onClick:function(){return Q(!U)},disabled:!Boolean(z)},U?"hide":"get"),U&&i.a.createElement(i.a.Fragment,null,i.a.createElement("hr",{className:we(_("1 / span 5"),(t="100%",function(){return{width:t}}))}),i.a.createElement($,{label:"font name"}),i.a.createElement("button",{className:we(_("5"))},"download"),i.a.createElement($,{label:"email"}),i.a.createElement("button",{className:we(_("5"))},"send"))))))},pe=function(e){var t=e.navHeight;return{marginTop:"".concat(t,"px")}};var he=function(e){var t=e.filterIdentifier,n=e.navHeight,a=e.layerColors,o=e.formHeight,c=e.fontSize,l=Object(r.useContext)(L).previewStrings,s=Object(r.useContext)(V).previewedOutputFonts,u=Object(r.useContext)(P).fontVariations,d=Object(f.a)({navHeight:n}).css;return i.a.createElement("div",{className:d(pe)},a.map((function(e,n){return i.a.createElement(N,{key:"".concat(t,"-overlay-").concat(n),fontFamily:s[t][n]||"".concat(t,"-").concat(n),fontSize:c,fontVariations:u[t],color:e,formHeight:o},l[t])})))},be=function(){return{}},ve=function(e){var t=e.fontSize;return{position:"relative",height:"".concat(1*t,"px")}};var ge=function(e){var t=e.filterRoutes,n=e.fontSize,a=Object(f.a)({fontSize:n}).css;return i.a.createElement("ul",{className:a(be)},t.map((function(e){return i.a.createElement("li",{key:"list-view-".concat(e.route)},i.a.createElement(h,{to:e.route},i.a.createElement("div",{className:a(ve)},i.a.createElement(N,{fontSize:n,inListView:!0},e.title))))})))},ye=function(e){var t=e.navHeight;return{marginTop:"".concat(t,"px")}};var we=function(e){var t=e.filterRoutes,n=e.navHeight,a=e.fontSize,r=Object(f.a)({navHeight:n,fontSize:a}).css;return i.a.createElement("ul",{className:r(ye)},t.map((function(e){return i.a.createElement("li",{key:"overlay-link-".concat(e.route)},i.a.createElement(h,{to:e.route},i.a.createElement("div",{className:r(ve)},e.layerColors.map((function(t,n){var r;return i.a.createElement(N,{key:"overlay-font-preview-".concat(n),fontSize:a,inListView:!0,fontFamily:"".concat(e.filterIdentifier,"-").concat(n),color:t,fontVariations:(null!==(r=null===e||void 0===e?void 0:e.variableFontControlSliders)&&void 0!==r?r:[]).reduce((function(e,t){return e[t.tag]=t.default,e}),{})},e.title)})))))})))},Ee=Object(r.createContext)(),je=O.filter((function(e){return"filterDetailView"===e.type}));function Oe(){return je.reduce((function(e,t){return e[t.filterIdentifier]=Math.ceil(function(e,t){var n=document.createElement("span");n.innerHTML=e,n.style.fontSize="200px",n.style.fontFamily=t,document.body.appendChild(n);var a=n.offsetWidth;return document.body.removeChild(n),Math.floor((document.body.clientWidth-20)/a*200)}(t.title,"vtt")),e}),{})}var xe=function(e){var t=e.contentIsVisible,n=e.navHeight;return Object(u.a)({position:"fixed",bottom:0,width:"100%",height:"0px",left:0,background:"#ccc",transition:"height ".concat(350,"ms"),transform:"translateZ(0)",transitionTimingFunction:t?"cubic-bezier(.55,0,1,.45)":"cubic-bezier(0,.55,.45,1)"},"height",t?0:"calc(100% - ".concat(n-10,"px)"))},Se=function(e){var t=e.isTouching,n=e.transitionWidth,a=e.transitionHeight;return{zIndex:-1,top:0,left:0,width:"100%",height:"100%",position:"absolute",background:"#eee",overflow:"hidden",transform:"translateZ(0)",extend:[{condition:t,style:{height:"100% !important"}},{condition:!t,style:{width:"100% !important"}},{condition:n|a,style:{transitionProperty:[].concat(Object(s.a)(n?["width"]:[]),Object(s.a)(a?["height"]:[])).join(","),transitionDuration:".05s",transitionTimingFunction:"ease-in"}}]}},Ce=function(){return{fontSize:["23px","19px"],lineHeight:["1.3em","1.15em"]}};var ke=function(){var e=Object(r.useState)(!0),t=Object(a.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(Oe()),u=Object(a.a)(c,2),m=u[0],p=u[1],h=Object(r.useRef)(!1),b=Object(r.useState)(0),v=Object(a.a)(b,2),g=v[0],y=v[1],w=Object(r.useState)(!1),E=Object(a.a)(w,2),x=E[0],S=E[1],C=Object(r.useState)(!1),k=Object(a.a)(C,2),F=k[0],I=k[1],N=Object(r.useState)(!0),D=Object(a.a)(N,2),T=D[0],L=D[1],R=Object(r.useState)(Math.min.apply(Math,Object(s.a)(Object.values(Oe())))),V=Object(a.a)(R,2),P=V[0],H=V[1],_=Object(r.useRef)(),B=Object(r.useRef)(Date.now()),W=Object(f.a)({contentIsVisible:n,navHeight:g,isTouching:x,transitionWidth:F,transitionHeight:T}).css;function A(){Date.now()-B.current>500&&(S(!1),I(!1),T&&setTimeout((function(){L(!1)}),500))}function X(e){Date.now()-B.current>500&&(S(!1),L(!1),_.current.style.height="".concat(e.pageY,"px"))}function Y(e){B.current=Date.now(),I(!0),S(!0),1===e.touches.length&&(_.current.style.width="".concat(e.touches[0].pageX,"px"))}function J(e){var t;switch(I(!1),e.touches.length){case 1:t=e.touches[0].pageX;break;case 2:var n=Object(a.a)(e.touches,2),r=n[0].pageX,i=n[1].pageX;t=Math.min(r,i)+Math.abs(i-r)/2}_.current.style.width="".concat(t,"px")}function q(e){H(Math.min.apply(Math,Object(s.a)(Object.values(Oe()))))}return Object(r.useEffect)((function(){return h.current=!0,window.addEventListener("resize",q),window.addEventListener("mousemove",X,!1),document.body.addEventListener("mouseenter",A),window.addEventListener("touchstart",Y),window.addEventListener("touchmove",J),document.fonts.ready.then((function(){p(Oe()),H(Math.min.apply(Math,Object(s.a)(Object.values(Oe()))))})),function(){window.removeEventListener("resize",q),window.removeEventListener("mousemove",X),document.body.removeEventListener("mouseenter",A),window.removeEventListener("touchstart",Y),window.removeEventListener("touchmove",J)}}),[]),i.a.createElement(Ee.Provider,{value:o},i.a.createElement(M,null,i.a.createElement("div",{className:W(Ce)},i.a.createElement(j,{setNavHeight:y,filterRoutes:je}),i.a.createElement("main",null,i.a.createElement(d.c,null,O.map((function(e,t){var n;switch(e.type){case"filterDetailView":n=i.a.createElement(me,Object.assign({},e,{navHeight:g,key:e.route,fontSize:m[e.filterIdentifier],setFontSize:function(t){return function(e,t){var n=Object(l.a)({},m);n[e]=t,p(n)}(e.filterIdentifier,t)}}));break;case"filterListView":n=i.a.createElement(ge,Object.assign({},e,{filterRoutes:je,fontSize:P}))}return i.a.createElement(d.a,{path:e.route,element:n,key:"route_".concat(t)})})),je.map((function(e,t){return i.a.createElement(d.a,{key:"about_route_".concat(t),path:"".concat(e.route,"/about"),element:i.a.createElement(z,{identifier:e.filterIdentifier})})})),i.a.createElement(d.a,{path:"/about",element:i.a.createElement(z,{identifier:"foundry"})}))),i.a.createElement("div",{className:W(xe)}),i.a.createElement("div",{ref:_,className:W(Se)},i.a.createElement(d.c,null,O.map((function(e,t){var n;switch(e.type){case"filterDetailView":n=i.a.createElement(he,Object.assign({},e,{navHeight:g,key:e.route,fontSize:m[e.filterIdentifier]}));break;case"filterListView":n=i.a.createElement(we,Object.assign({},e,{filterRoutes:je,navHeight:g,fontSize:P}));break;default:throw new Error("not matched")}return i.a.createElement(d.a,{path:e.route,element:n,key:"overlay_route_".concat(t)})})))))))},ze=n(79),Fe=n(78),Ie=n(37),Ne=n(38),De=n(39),Te=n(40),Le=Object(Fe.a)({plugins:[Object(Ie.a)(),Object(Ne.a)(),Object(Te.a)(),Object(De.a)((function(e,t){switch(e.length){case 2:return["@media (min-width: 800px)"];default:return[]}}),{padding:!0,margin:!0,display:!0,fontSize:!0,gridTemplateColumns:!0,lineHeight:!0,width:!0,height:!0,borderRadius:!0})]});Le.renderStatic({boxSizing:"border-box",fontFamily:"inherit",fontSize:"inherit",color:"inherit","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"},"html,body,div,input,label,a,button");Le.renderStatic({fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit"},"h1,h2,h3,h4,h5,h6,h6,h8");Le.renderStatic({padding:0,margin:0},"html,body,div,input,label,a,button,h1,h2,h3,h4,h5,h6,h6,h8,p");Le.renderStatic({fontFamily:"vtt, sans-serif",maxWidth:"100vw",minHeight:"100vh",position:"relative",overscrollBehavior:"contain",overflow:"auto"},"body");Le.renderStatic({height:"100%",width:"100%"},"html");Le.renderStatic({margin:0,listStyleType:"None",padding:0},"ul");Le.renderStatic({whiteSpace:"nowrap",background:"transparent",outline:"none",border:"none",appearance:"none",textAlign:"left",textDecoration:"underline"},"button");Le.renderStatic({color:"#CCC",userSelect:"none",pointerEvents:"none"},"*[disabled]");Le.renderStatic({minWidth:"80px"},"input");Le.renderStatic({textDecoration:"underline"},"a.active");[["rasterizer-0","ttf"],["rotorizer-0","ttf"],["rotorizer-1","ttf"],["vtt","woff2"]].forEach((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return Le.renderFont(n,["".concat(n,".").concat(r)])})),c.a.render(i.a.createElement(m.a,null,i.a.createElement(ze.a,{renderer:Le},i.a.createElement(i.a.StrictMode,null,i.a.createElement(ke,null)))),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.e07083db.chunk.js.map